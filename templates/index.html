<!DOCTYPE html>

<html>
<head>
	<title> Allergy Search </title>
	<link href="style.css" rel="stylesheet" type="text/css" /> 
	<script type="text/javascript" src="script.js"></script>
</head>

<body>
	<center>
	<font face="Verdana">
	<h1>Allergy Search </h1><br>
	</font>
	<h2>Search Food:</h2>
	<div class="searchbar">
		<form action="search.html">
			<!-- Search bar for foods -->
			<input class="barsize" type="text" placeholder="Search..." required><br>

			<!-- Moved the select with in the form so flask can get the data -->
			
			<!-- Tab for selecting dietary restrictions -->
			<br><h2>Select Dietary Restrictions:</h2>
			<div class="checkbox_section"> 
				<table id="choice_table"> </table>
			</div>
			<!-- Made a submit to use the flask -->
			<br />
			<input type="Submit" /><br>
			
			<!-- Other Search BAR -->
			<h3>Other:</h3><br>
			<input class="otherbarsize" type="text" placeholder="Type here..." required>
		</form>
	</div>
	</center>
</body>

<script>
function makeLowerCase(x) {
	var lower = x.toLowerCase();
	var underscored = lower.replace(/ /g, "_");
	return underscored;
}

ingredients = ["Vegetarian Options", "Vegan Options", "Peanut Allergy", "Lactose Intolerance", "Celiac Disease (Gluten Free)", "Kosher", "Eggs"];
var gen_label, checkbox, formdiv, br;
var table = document.getElementById("choice_table");
formdiv = document.getElementsByClassName("checkbox_section")[0];
for (var x = 0; x < ingredients.length; x++) {
  gen_label = document.createElement("label");
  gen_label.className = "ing_label";
  gen_label.innerHTML = ingredients[x];
  checkbox = document.createElement("input");
  checkbox.setAttribute("type","checkbox");
  checkbox.setAttribute("name","checked_ing");
  checkbox.setAttribute("value",makeLowerCase(ingredients[x]));
  checkbox.className = "ing_box";
  var row = document.createElement("tr");
  var label_td = document.createElement("td");
  var checkbox_td = document.createElement("td");
  label_td.appendChild(gen_label);
  checkbox_td.appendChild(checkbox);
  row.appendChild(label_td);
  row.appendChild(checkbox_td);
  table.append(row);
}

</script>

</html>

